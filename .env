# AI Shield Environment Variables
# Automatisch generiert mit sicheren Secrets

# ============================================
# PostgreSQL
# ============================================
POSTGRES_PASSWORD=ai-shield-postgres-password-change-me
POSTGRES_HOST_PORT=5435
LANGFUSE_DB_PASSWORD=langfuse-password-change-me
LANGFUSE_DB_PORT=5436

# ============================================
# Gateway (LiteLLM)
# ============================================
# OpenAI API Key (ERFORDERLICH - BITTE SETZEN!)
OPENAI_API_KEY=sk-your-openai-api-key-here

# LiteLLM Master Key (f端r API-Authentifizierung)
LITELLM_MASTER_KEY=sk-740290f93b0fc7f1340a53676d8da4db76221b7a74ccf66f2dda2bda3e12b0d1

# Database URL f端r LiteLLM
DATABASE_URL=postgresql://litellm:${POSTGRES_PASSWORD}@postgres:5432/litellm

# Langfuse Integration
# Diese Keys werden automatisch generiert, wenn Langfuse zum ersten Mal startet
# Du kannst sie dann aus der Langfuse UI kopieren: http://localhost:3000
LANGFUSE_PUBLIC_KEY=pk-langfuse-public-key
LANGFUSE_SECRET_KEY=sk-langfuse-secret-key
LANGFUSE_HOST=http://langfuse:3000

# Policy-Konfiguration
AI_SHIELD_POLICY_PATH=/app/policies/presets.yaml
AI_SHIELD_PRESET_DEFAULT=public_website
AI_SHIELD_REGISTRY_PATH=/app/control-plane-data/mcp_registry.json

# Optional: LLM Guard
AI_SHIELD_ENABLE_TOXICITY_CHECK=false
AI_SHIELD_ENABLE_OUTPUT_SCAN=false

# ============================================
# Control Plane
# ============================================
# Admin-Authentifizierung (mindestens 32 Zeichen)
CONTROL_PLANE_ADMIN_KEY=dc370f983eaf08c0538ad030c428c1baa9c15ccb6fbea3084ce56bed790b27c7

# Gateway-Integration
GATEWAY_BASE_URL=http://gateway:4000
GATEWAY_ADMIN_KEY=${LITELLM_MASTER_KEY}

# Registry-Pfad
CONTROL_PLANE_REGISTRY_PATH=/app/data/mcp_registry.json
CONTROL_PLANE_DATA_DIR=/app/data

# ============================================
# Langfuse
# ============================================
# NextAuth Secret (mindestens 32 Zeichen)
LANGFUSE_SECRET=5d7e3cfe0f3895b5f51c7f4ae2494c8fed40d0d7e695defdc72039000a50efa4

# ============================================
# Ports (optional, Defaults in Klammern)
# ============================================
AI_SHIELD_HOST_PORT=4050
CONTROL_PLANE_HOST_PORT=4051
LANGFUSE_PORT=3002
GRAFANA_PORT=3001
PROMETHEUS_PORT=9090
JAEGER_UI_PORT=16686
REDIS_PORT=6379
NGINX_PORT=80

# Presidio Services
PRESIDIO_ANALYZER_HOST_PORT=5001
PRESIDIO_ANONYMIZER_HOST_PORT=5002

# OpenTelemetry
OTEL_GRPC_PORT=4322
OTEL_HTTP_PORT=4318
JAEGER_GRPC_PORT=4322
JAEGER_HTTP_PORT=4318

# MCP Scan Interval
MCP_SCAN_INTERVAL_SECONDS=300

# ============================================
# Langfuse v3 (ClickHouse & MinIO)
# ============================================
CLICKHOUSE_URL=http://clickhouse:8123
CLICKHOUSE_USER=clickhouse
CLICKHOUSE_PASSWORD=clickhouse-password-change-me
CLICKHOUSE_DB=default
CLICKHOUSE_MIGRATION_URL=clickhouse://clickhouse:9000
CLICKHOUSE_MIGRATION_SSL=false
CLICKHOUSE_CLUSTER_ENABLED=false

# Langfuse SALT und ENCRYPTION_KEY (werden generiert)
SALT=aae6b669e83a1ca2b3488b46540d20f15efe9934346c7f80113790e47b804e8c
ENCRYPTION_KEY=401076e54ba5ef5743721540cafe4accaea63dcdaf761e09ab0999f4b7b9045f

# MinIO f端r Langfuse
MINIO_ROOT_USER=minio
MINIO_ROOT_PASSWORD=minio-password-change-me
LANGFUSE_S3_EVENT_UPLOAD_BUCKET=langfuse
LANGFUSE_S3_EVENT_UPLOAD_REGION=us-east-1
LANGFUSE_S3_EVENT_UPLOAD_ACCESS_KEY_ID=minio
LANGFUSE_S3_EVENT_UPLOAD_SECRET_ACCESS_KEY=401076e54ba5ef5743721540cafe4accaea63dcdaf761e09ab0999f4b7b9045f
LANGFUSE_S3_EVENT_UPLOAD_ENDPOINT=http://minio:9000
LANGFUSE_S3_EVENT_UPLOAD_FORCE_PATH_STYLE=true
LANGFUSE_S3_EVENT_UPLOAD_PREFIX=events/
LANGFUSE_S3_MEDIA_UPLOAD_BUCKET=langfuse-media
LANGFUSE_S3_MEDIA_UPLOAD_REGION=us-east-1
LANGFUSE_S3_MEDIA_UPLOAD_ACCESS_KEY_ID=minio
LANGFUSE_S3_MEDIA_UPLOAD_SECRET_ACCESS_KEY=401076e54ba5ef5743721540cafe4accaea63dcdaf761e09ab0999f4b7b9045f
LANGFUSE_S3_MEDIA_UPLOAD_ENDPOINT=http://minio:9000
LANGFUSE_S3_MEDIA_UPLOAD_FORCE_PATH_STYLE=true
LANGFUSE_S3_MEDIA_UPLOAD_PREFIX=media/

# Redis Connection f端r Langfuse
REDIS_CONNECTION_STRING=redis://redis:6379/0

# NextAuth
NEXTAUTH_URL=http://localhost:3002
NEXTAUTH_SECRET=${LANGFUSE_SECRET}
